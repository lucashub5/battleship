(()=>{"use strict";var e={656:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),i=n(314),o=n.n(i)()(a());o.push([e.id,"* {\n    margin: 0px;\n}\n\nbody {\n    font-family: monospace;\n    color: white;\n    background: rgb(30, 31, 34);\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    user-select: none;\n}\n\nheader {\n    margin: 10px;\n}\n\n.main {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: auto auto auto 145px;\n    gap: 10px;\n}\n\n.btns-container {\n    display: flex;\n    grid-column: 1 / 2;\n    align-items: center;\n    gap: 10px;\n}\n\n.player, .enemy {\n    width: 300px;\n    height: 300px;\n    display: grid;\n    grid-template: repeat(10, 1fr) / repeat(10, 1fr);\n    margin: 1px;\n    border: 2px solid rgb(107, 104, 104);\n}\n\n.player {\n    grid-area: 3 / 1 / 4 / 2;\n}\n\n.enemy {\n    grid-area: 3 / 2 / 4 / 3;\n}\n\n.locker-player, .locker-enemy {\n    outline: 1px dotted rgba(107, 104, 104, 0.7);\n    overflow: hidden;\n}\n\n.ships {\n    grid-column: 1 / 3;\n    display: grid;\n    gap: 5px;\n    grid-template-rows: repeat(2, 70px);\n    grid-template-columns: repeat(5, 70px);\n}\n\n.ship-h {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n}\n\n.ship-h img {\n    width: auto;\n    height: 10px;\n    filter: invert(1);\n    pointer-events: none;\n}\n\n.ship-h:active {\n    outline: 1px solid grey;\n}\n\n.ship-v img {\n    transform: rotate(90deg);\n}\n\n.rotation-fixed {\n    transform: scaleX(-1);\n    display: none;\n    align-items: center;\n    justify-content: center;\n    width: 20px;\n    height: 20px;\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    filter: invert(1);\n}\n\n.ship-h:hover > .rotation-fixed {\n    display: flex;\n}\n\n.rotation-fixed img {\n    transform: rotate(-90deg);\n}\n\n.text {\n    grid-row: 4 / 5;\n    grid-column: 1 / 3;\n    font-size: 15px;\n}\n\n.timer {\n    height: 100%;\n    grid-row: 1 / 2;\n    grid-column: 2 / 3;\n    font-size: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: end;\n}\n\n.text-player {\n    grid-row: 2 / 3;\n    grid-column: 1 / 2;\n}\n\n.text-enemy {\n    grid-row: 2 / 3;\n    grid-column: 2 / 3;\n}\n\n@media only screen and (max-width: 600px) {\n\n    .main {\n        grid-template-columns: auto;\n        grid-template-rows: repeat(6, auto);\n        justify-items: center;\n    }\n\n    .player {\n        grid-area: 3 / 1 / 4 / 2;\n    }\n    \n    .enemy {\n        grid-area: 5 / 1 / 6 / 2;\n    }\n\n    .text-player {\n        grid-row: 2 / 3;\n        grid-column: 1 / 2;\n        text-justify: center;\n    }\n    \n    .text-enemy {\n        grid-row: 4 / 5;\n        grid-column: 1 / 2;\n        text-justify: center;\n    }\n\n    .ships {\n        grid-row: 6 / 7;\n        grid-column: 1 / 2;\n        display: grid;\n    }\n\n    .text {\n        grid-row: 6 / 7;\n        grid-column: 1 / 2;\n    }\n\n    .timer {\n        height: 100%;\n        grid-row: 7 / 8;\n        grid-column: 1 / 2;\n    } \n}",""]);const s=o},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&o[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},o=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=a(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}o.push(d)}return o}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=n(i[o]);t[s].references--}for(var c=r(e,a),l=0;l<i.length;l++){var u=n(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0,(()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:String(t)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;i(this,e),this.lon=t,this.hits=0}return s(e,[{key:"hit",value:function(){this.hits++}},{key:"isSunk",value:function(){if(this.hits===this.lon)return!0}}]),e}(),u=function(){function n(){i(this,n),this.board=this.createBoard(),this.validAttack=[],this.shipsArr=[1,1,1,1,2,2,2,3,3,4],this.ships=10,this.queue=[],this.endGame=!1}return s(n,[{key:"createBoard",value:function(){for(var e=[],t=0;t<10;t++){for(var n=[],r=0;r<10;r++)n.push(null);e.push(n)}return e}},{key:"checkIns",value:function(e,t,n,r,a){if(0===this.shipsArr.length)return!1;var i=e+n*(a-1),o=t+r*(a-1);if(i<0||i>=this.board.length||o<0||o>=this.board[0].length)return!1;for(var s=0;s<a;s++){var c=e+n*s,l=t+r*s;if(null!==this.board[c][l])return!1}return!0}},{key:"insert",value:function(e,t,n,r,a){var i=this.shipsArr.indexOf(a);this.shipsArr.splice(i,1);for(var o=new l(a),s=0;s<a;s++){var c=e+n*s,u=t+r*s;this.board[c][u]=o}}},{key:"random",value:function(){for(;;){var e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),n=this.shipsArr[this.shipsArr.length-1],r=[0,1],a=[[1,0],[0,1]];if(n>1&&(r=a[Math.floor(Math.random()*a.length)]),this.checkIns(e,t,r[0],r[1],n))return{x:e,y:t,sense:[r[0],r[1]],lon:n}}}},{key:"receiveAttack",value:function(e,t){return!this.validAttack.some((function(n){return n[0]===e&&n[1]===t}))&&(this.validAttack.push([e,t]),null===this.board[e][t]?this.board[e][t]="failed":(this.board[e][t].hit(),this.board[e][t].isSunk()&&this.ships--,0===this.ships&&(this.endGame=!0),!0))}},{key:"autoAttack",value:function(){for(var n=!1,a=0,i=0;!1===n;)this.queue.length>0?(a=this.queue[0][0],i=this.queue[0][1],this.queue.shift()):(a=Math.floor(10*Math.random()),i=Math.floor(10*Math.random())),n=this.receiveAttack(a,i);if(!0===n){for(var o=[],s=0,c=[[-1,0],[0,-1],[1,0],[0,1]];s<c.length;s++){var l=e(c[s],2),u=a+l[0],d=i+l[1];u>=0&&u<this.board.length&&d>=0&&d<this.board[0].length&&o.push([u,d])}this.queue=[].concat(function(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.queue),o)}return{attack:n,coords:[a,i]}}}]),n}(),d=s((function e(){i(this,e),this.player=new u,this.enemy=new u,this.turn=!1,this.hitsEnemy=[],this.length=0,this.sense=[],this.dragging=!1,this.timer=null})),p=n(72),f=n.n(p),h=n(825),m=n.n(h),y=n(659),g=n.n(y),v=n(56),b=n.n(v),x=n(540),S=n.n(x),A=n(113),w=n.n(A),k=n(656),E={};E.styleTagTransform=w(),E.setAttributes=b(),E.insert=g().bind(null,"head"),E.domAPI=m(),E.insertStyleElement=S(),f()(k.A,E),k.A&&k.A.locals&&k.A.locals;const C=n.p+"96002abcacc71f77d612.svg",L=n.p+"f1edb9381b609b9711f0.svg",O=n.p+"a26430573491bb4bc998.svg",q=n.p+"141d18746de79fc679de.svg",j=n.p+"cc17df2d0c44725c07a7.svg";var I=new d;function M(e,t,n){for(var r=JSON.parse(e.getAttribute("data-coor")),a=0;a<I.length;a++){var i=JSON.parse("[".concat(r[0]+I.sense[0]*a,", ").concat(r[1]+I.sense[1]*a,"]"));if(i[0]>9||i[1]>9)return;var o=document.querySelector('.locker-player[data-coor="'.concat(JSON.stringify(i),'"]'));if(!o.classList.contains("is-existing")){var s=3;n?(s=1,o.classList.add("is-existing")):t&&(s=2);var c={1:L,2:O,3:q,4:j},l=new Image;l.src=c[I.length],l.setAttribute("fill","red"),l.style.cssText="\n            width: ".concat(100*I.length,"%;\n            height: ").concat(30,"px;\n            position: relative;\n            filter: ").concat({1:"invert(1)",2:"invert(52%) sepia(92%) saturate(2021%) hue-rotate(84deg) brightness(116%) contrast(128%)",3:"invert(16%) sepia(90%) saturate(6135%) hue-rotate(358deg) brightness(111%) contrast(115%)"}[s],";\n            pointer-events: none;\n            padding: 3px;\n            box-sizing: border-box;"),1!==I.sense[0]?(l.style.top="0px",l.style.left="".concat(0+30*-a,"px")):(l.style.transformOrigin="0% 0%",l.style.transform="rotate(90deg)",l.style.left="".concat(30,"px"),l.style.top="".concat(0+30*-a,"px")),o.appendChild(l)}}}function T(e,t,n){var r=document.querySelector(".locker-".concat(e,'[data-coor="').concat(JSON.stringify(n),'"]'));r.style.cursor="default";var a=document.querySelector(".text");r.classList.add("is-existing"),"failed"===t?(r.style.cssText="background: red;",a.textContent="Shoot missed! Your turn"):t?(r.style.cssText="background: green; z-index: 0;",a.textContent="Successful shoot! Your turn",(!0===I.player.endGame||!0===I.enemy.endGame)&&(a.textContent="End game",I.turn=!1,document.querySelector(".enemy").style.cursor="none")):a.textContent="You've already tried that coordinate"}function N(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=JSON.parse(e.getAttribute("data-coor")),r=I.player.checkIns(n[0],n[1],I.sense[0],I.sense[1],I.length);if(r&&t&&(I.player.insert(n[0],n[1],I.sense[0],I.sense[1],I.length),document.querySelector('[data-length="'.concat(I.length,'"]')).remove(),document.querySelectorAll(".ship-h").forEach((function(e){e.removeAttribute("style")})),0===I.player.shipsArr.length)){for(;I.enemy.shipsArr.length>0;){var a=I.enemy.random();I.length=a.lon,I.sense=a.sense,I.enemy.insert(a.x,a.y,I.sense[0],I.sense[1],I.length)}var i=document.createElement("button");i.textContent="Start Game";var o=document.querySelector(".btns-container");document.getElementById("random").remove(),document.querySelector(".ships").remove();var s=document.createElement("a"),c=document.createElement("a");s.classList.add("text"),c.classList.add("timer"),s.textContent="Please click the Start Game button to play.";var l=document.querySelector("main");l.appendChild(s),l.appendChild(c),o.appendChild(i),i.addEventListener("click",(function(){s.textContent="Fire at an enemy grid!",document.querySelector(".enemy").querySelectorAll(".locker-enemy").forEach((function(e){e.style.cursor="crosshair"})),I.turn=!0,i.remove()}))}return{x:n[0],y:n[1],check:r}}!function e(){document.body.innerHTML='\n  <header><h1>Battleship</h1></header>\n  <main class="main">\n      <div class="btns-container">\n        <button id="random">Random</button>\n        <button id="restart">Restart</button>\n      </div>\n      <a class=text-player>Player</a>\n      <a class=text-enemy>Enemy</a>\n  </main>\n  <footer>By Lucas Carovano</footer>\n';var t=document.getElementById("restart"),n=document.getElementById("random");t.addEventListener("click",e),n.addEventListener("click",(function(){for(;I.player.shipsArr.length>0;){var e=I.player.random();I.length=e.lon,I.sense=e.sense;var t=document.querySelector('.locker-player[data-coor="'.concat(JSON.stringify([e.x,e.y]),'"]'));N(t,!0),M(t,!0,!0)}})),clearInterval(I.interval),I=new d,function(){var e=document.querySelector(".main"),t=document.createElement("div");t.classList.add("player");var n=document.createElement("div");n.classList.add("enemy");var r=document.createElement("div");r.classList.add("ships");for(var a=function(){var e=document.createElement("div");e.classList.add("ship-h"),e.setAttribute("data-sense",JSON.stringify([0,1])),e.style.cursor="grab",e.setAttribute("data-length",JSON.stringify(I.player.shipsArr[i]));var t=new Image;t.src=C;var n={1:L,2:O,3:q,4:j},a=new Image;if(a.src=n[I.player.shipsArr[i]],e.appendChild(a),I.player.shipsArr[i]>1){var o=document.createElement("div");o.classList.add("rotation-fixed"),o.addEventListener("click",(function(){var e=this.parentNode;e.classList.toggle("ship-v");var t=JSON.parse(e.getAttribute("data-sense"));t=0===t[0]?[1,0]:[0,1],e.setAttribute("data-sense",JSON.stringify(t))})),o.appendChild(t),e.appendChild(o)}e.addEventListener("mousedown",(function(){I.dragging=!0,I.length=JSON.parse(this.getAttribute("data-length")),I.sense=JSON.parse(this.getAttribute("data-sense")),e.removeAttribute("style"),document.body.style.cursor="grabbing"})),r.appendChild(e)},i=0;i<10;i++)a();document.body.addEventListener("mouseup",(function(e){if(document.body.removeAttribute("style"),document.querySelectorAll(".ship-h").forEach((function(e){e.style.cursor="grab"})),document.querySelectorAll(".locker-player").forEach((function(e){e.classList.contains("is-existing")||(e.innerHTML="")})),I.dragging&&(I.dragging=!1,e.target.classList.contains("locker-player"))){var t=N(e.target,!0);t.check?M(e.target,t.check,!0):M(e.target,t.check)}}));for(var o=function(e){for(var r=function(r){var a=document.createElement("div");a.classList.add("locker-player"),a.setAttribute("data-coor",JSON.stringify([e,r])),a.addEventListener("mouseover",(function(){if(document.querySelectorAll(".locker-player").forEach((function(e){e.classList.contains("is-existing")||(e.innerHTML="")})),I.dragging){var e=N(a);M(a,e.check)}}));var i=document.createElement("div");i.classList.add("locker-enemy"),i.setAttribute("data-coor",JSON.stringify([e,r])),i.addEventListener("click",(function(){if(I.turn){var t=I.enemy.receiveAttack(e,r);if(!1===t)return;T("enemy",t,[e,r]);var n=I.player.autoAttack();T("player",n.attack,n.coords),function(){var e=document.querySelector(".timer");e.textContent="",clearInterval(I.interval);var t=5;I.interval=setInterval((function(){if(t>0)e.textContent="Automatic attack in ".concat(t,"."),t--;else{var n=I.enemy.autoAttack();T("enemy",n.attack,n.coords);var r=I.player.autoAttack();T("player",r.attack,r.coords),e.textContent="",t=5}}),1e3)}()}}),{once:!0}),t.appendChild(a),n.appendChild(i)},a=0;a<10;a++)r(a)},s=0;s<10;s++)o(s);e.appendChild(t),e.appendChild(n),e.appendChild(r)}()}()})()})();